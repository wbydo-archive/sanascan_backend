# -*- mode: ruby -*-
# vi: set ft=ruby :
create_table "created_lang_model", id: false, options: "ENGINE=InnoDB DEFAULT CHARSET=utf8", force: :cascade do |t|
  t.integer "sentence_id"
  t.integer "lang_model_id"
  t.index ["lang_model_id"], name: "lang_model_id"
  t.index ["sentence_id"], name: "sentence_id"
end

create_table "datasets", id: :integer, options: "ENGINE=InnoDB DEFAULT CHARSET=utf8", force: :cascade do |t|
  t.string "name", limit: 100
  t.string "enum", limit: 4
  t.index ["name"], name: "name", unique: true
end

create_table "datum", primary_key: ["id", "file_id"], options: "ENGINE=InnoDB DEFAULT CHARSET=utf8", force: :cascade do |t|
  t.integer "id", null: false
  t.text "contents"
  t.integer "file_id", null: false
  t.index ["file_id"], name: "file_id"
end

create_table "files", id: :integer, options: "ENGINE=InnoDB DEFAULT CHARSET=utf8", force: :cascade do |t|
  t.string "dataset", limit: 4
  t.string "file_name", limit: 100
  t.binary "contents", limit: 4294967295
  t.binary "checksum", limit: 20
  t.index ["checksum"], name: "checksum", unique: true
  t.index ["file_name"], name: "file_name", unique: true
end

create_table "lang_model_files", id: :integer, options: "ENGINE=InnoDB DEFAULT CHARSET=utf8", force: :cascade do |t|
  t.integer "order"
  t.binary "contents", limit: 4294967295
  t.binary "checksum", limit: 20
  t.index ["checksum"], name: "checksum", unique: true
end

create_table "migrate_version", primary_key: "repository_id", id: :string, limit: 250, options: "ENGINE=InnoDB DEFAULT CHARSET=utf8", force: :cascade do |t|
  t.text "repository_path"
  t.integer "version"
end

create_table "sentences", id: :integer, options: "ENGINE=InnoDB DEFAULT CHARSET=utf8", force: :cascade do |t|
  t.text "contents"
  t.integer "data_id"
  t.integer "data_file_id"
  t.index ["data_id", "data_file_id"], name: "data_id"
end

add_foreign_key "created_lang_model", "lang_model_files", column: "lang_model_id", name: "created_lang_model_ibfk_2", on_update: :cascade, on_delete: :cascade
add_foreign_key "created_lang_model", "sentences", name: "created_lang_model_ibfk_1", on_update: :cascade, on_delete: :cascade
add_foreign_key "datum", "files", name: "datum_ibfk_1", on_update: :cascade, on_delete: :cascade
add_foreign_key "sentences", "datum", column: "data_file_id", primary_key: "file_id", name: "sentences_ibfk_1"
add_foreign_key "sentences", "datum", column: "data_id", name: "sentences_ibfk_1"

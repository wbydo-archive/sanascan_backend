# -*- mode: ruby -*-
# vi: set ft=ruby :
create_table "corpora", id: :integer, options: "ENGINE=InnoDB DEFAULT CHARSET=utf8", force: :cascade do |t|
  t.text "name", unique: true, null: false
  t.string "symbol", limit: 16, unique: true, null: false
end

create_table "files", id: :integer, options: "ENGINE=InnoDB DEFAULT CHARSET=utf8", force: :cascade do |t|
  t.text "name", null: false, unique: true
  t.integer "corpus_id", null: false
  t.index ["corpus_id"], name: "corpus_id"
  t.text "checksum", null:false, unique:true
end
add_foreign_key(
  "files", "corpora",
  column: "corpus_id",
  name: "files_corpus_id_corpora_id",
  on_update: :cascade,
  on_delete: :cascade
)

create_table "datum", id: :integer, options: "ENGINE=InnoDB DEFAULT CHARSET=utf8", force: :cascade do |t|
  t.integer "file_id", null: false
  t.index ["file_id"], name: "file_id"

  t.integer "original_data_id"
  t.text "contents", null: false
  t.text "symbol", unique: true, null: false
end
add_foreign_key(
  "datum", "files",
  column: "file_id",
  name: "datum_file_id_files_id",
  on_update: :cascade,
  on_delete: :cascade
)

create_table "sentences", id: :integer, options: "ENGINE=InnoDB DEFAULT CHARSET=utf8", force: :cascade do |t|
  t.integer "data_id", null:false
  t.index ["data_id"], name: "data_id"
  t.text "symbol", unique: true, null: false
end
add_foreign_key(
  "sentences", "datum",
  column: "data_id",
  name: "sentences_data_id_datum_id",
  on_update: :cascade,
  on_delete: :cascade
)
